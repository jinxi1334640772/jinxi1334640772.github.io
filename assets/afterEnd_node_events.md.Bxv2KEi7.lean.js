import{_ as a,c as i,a3 as n,o as e}from"./js/framework-ohJJpums.js";const E=JSON.parse('{"title":"Node.js Events äº‹ä»¶æ¨¡å—","description":"Node.js äº‹ä»¶é©±åŠ¨ç¼–ç¨‹ï¼ŒEventEmitter ç±»çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—","frontmatter":{"title":"Node.js Events äº‹ä»¶æ¨¡å—","description":"Node.js äº‹ä»¶é©±åŠ¨ç¼–ç¨‹ï¼ŒEventEmitter ç±»çš„è¯¦ç»†ä½¿ç”¨æŒ‡å—","outline":"deep"},"headers":[],"relativePath":"afterEnd/node/events.md","filePath":"afterEnd/node/events.md","lastUpdated":1752211069000}'),l={name:"afterEnd/node/events.md"};function p(t,s,h,r,k,d){return e(),i("div",null,s[0]||(s[0]=[n(`<h1>ğŸ¯ Node.js Events äº‹ä»¶æ¨¡å—</h1><p>å¤§å¤šæ•°æ—¶å€™ä¸éœ€è¦åˆ›å»º EventEmitter å®ä¾‹ï¼Œå› ä¸ºæ”¯æŒäº‹ä»¶å“åº”çš„æ ¸å¿ƒæ¨¡å—ï¼ˆå¦‚ <code>fs</code>ã€<code>http</code> ç­‰ï¼‰éƒ½æ˜¯ EventEmitter çš„å®ä¾‹ï¼Œéƒ½æœ‰å„è‡ªå†…å®šçš„äº‹ä»¶ã€‚</p><p>æ­¤äº‹ä»¶æœºåˆ¶ç±»ä¼¼äºè§‚å¯Ÿè€…æ¨¡å¼ï¼š</p><ul><li>å®šä¹‰äº‹ä»¶ç›‘å¬å™¨å‡½æ•°</li><li>é€šè¿‡ <code>on</code> æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨ï¼Œè§‚å¯Ÿäº‹ä»¶æ˜¯å¦è§¦å‘</li><li>é€šè¿‡ <code>emit</code> æ´¾å‘äº‹ä»¶ï¼Œäº‹ä»¶ç›‘å¬å™¨è§‚æµ‹åˆ°äº‹ä»¶è§¦å‘åæ‰§è¡Œé€»è¾‘</li></ul><div class="tip custom-block"><p class="custom-block-title">ğŸ’¡ æç¤º</p><p>EventEmitter æ˜¯ Node.js å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„çš„åŸºç¡€ï¼Œè®¸å¤šæ ¸å¿ƒæ¨¡å—éƒ½ç»§æ‰¿è‡ªè¿™ä¸ªç±»ã€‚</p></div><h2 id="-" tabindex="-1">ğŸ“š åŸºæœ¬ç”¨æ³• <a class="header-anchor" href="#-" aria-label="Permalink to &quot;ğŸ“š åŸºæœ¬ç”¨æ³•&quot;">â€‹</a></h2><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> events</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;events&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼•å…¥ events æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventEmitter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> events.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EventEmitter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»º events å®ä¾‹</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * å®šä¹‰äº‹ä»¶ç›‘å¬å™¨å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * å‚æ•°éƒ½æ˜¯ emit æ—¶ä¼ è¿‡æ¥çš„</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> methodsOne</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">param1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">param2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(param1, param2, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç›‘å¬å™¨1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> methodsTwo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">param1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">param2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(param1, param2, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç›‘å¬å™¨2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * é€šè¿‡ on æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨ï¼šå¯ä»¥æ·»åŠ å¤šä¸ªç›‘å¬å™¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventName</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> äº‹ä»¶åç§°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Function}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> handler</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> äº‹ä»¶å¤„ç†å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;customEvent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, methodsOne);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;customEvent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, methodsTwo);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * æ³¨å†Œåªä¼šæ‰§è¡Œä¸€æ¬¡çš„ç›‘å¬å™¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">once</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;onceEventName&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, methodsTwo);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * é€šè¿‡ emit æ´¾å‘äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventName</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> äº‹ä»¶åç§°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {...*}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> args</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> ä¼ ç»™äº‹ä»¶ç›‘å¬å™¨çš„å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;customEvent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å‚æ•°1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;å‚æ•°2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="--1" tabindex="-1">ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³• <a class="header-anchor" href="#--1" aria-label="Permalink to &quot;ğŸ› ï¸ æ ¸å¿ƒæ–¹æ³•&quot;">â€‹</a></h2><h3 id="setmaxlisteners-" tabindex="-1">setMaxListeners() <a class="header-anchor" href="#setmaxlisteners-" aria-label="Permalink to &quot;setMaxListeners()&quot;">â€‹</a></h3><p>è®¾ç½®ç›‘å¬å™¨çš„æœ€å¤§ä¸ªæ•°ï¼Œé»˜è®¤æœ€å¤š 10 ä¸ªï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * è®¾ç½®ç›‘å¬å™¨çš„æœ€å¤§ä¸ªæ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {number}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> æœ€å¤§æ•°ç›®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setMaxListeners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="listeners-" tabindex="-1">listeners() <a class="header-anchor" href="#listeners-" aria-label="Permalink to &quot;listeners()&quot;">â€‹</a></h3><p>è·å–æŸäº‹ä»¶çš„æ‰€æœ‰ç›‘å¬å™¨ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * è·å–æŸäº‹ä»¶çš„æ‰€æœ‰ç›‘å¬å™¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventName</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> äº‹ä»¶åç§°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Array}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> äº‹ä»¶åå¯¹åº”çš„ç›‘å¬å™¨æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> handlerList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listeners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;customEvent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(handlerList); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [Function: methodsOne, Function: methodsTwo]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="listenercount-" tabindex="-1">listenerCount() <a class="header-anchor" href="#listenercount-" aria-label="Permalink to &quot;listenerCount()&quot;">â€‹</a></h3><p>è·å–æŸä¸ªäº‹ä»¶ç›‘å¬å™¨çš„ä¸ªæ•°ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * è·å–æŸä¸ªäº‹ä»¶ç›‘å¬å™¨çš„ä¸ªæ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventName</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> äº‹ä»¶åç§°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@returns</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {number}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> äº‹ä»¶åå¯¹åº”çš„ç›‘å¬å™¨ä¸ªæ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> eventNum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listenerCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;customEvent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(eventNum); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="removelistener-" tabindex="-1">removeListener() <a class="header-anchor" href="#removelistener-" aria-label="Permalink to &quot;removeListener()&quot;">â€‹</a></h3><p>ç§»é™¤æŒ‡å®šçš„äº‹ä»¶ç›‘å¬å™¨ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * ç§»é™¤äº‹ä»¶ç›‘å¬å™¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {string}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventName</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> äº‹ä»¶åç§°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Function}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> handler</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> è¦ç§»é™¤çš„ç›‘å¬å™¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;customEvent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, methodsOne);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="removealllisteners-" tabindex="-1">removeAllListeners() <a class="header-anchor" href="#removealllisteners-" aria-label="Permalink to &quot;removeAllListeners()&quot;">â€‹</a></h3><p>ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨ï¼š</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> {Array}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> eventNameList</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> è¦ç§»é™¤ç›‘å¬å™¨çš„äº‹ä»¶åå­—æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeAllListeners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;customEvent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="-node-js-" tabindex="-1">ğŸ”„ Node.js äº‹ä»¶å¾ªç¯æœºåˆ¶ <a class="header-anchor" href="#-node-js-" aria-label="Permalink to &quot;ğŸ”„ Node.js äº‹ä»¶å¾ªç¯æœºåˆ¶&quot;">â€‹</a></h2><p>Node.js çš„äº‹ä»¶å¾ªç¯åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š</p><h3 id="1-" tabindex="-1">1. åˆå§‹åŒ–é˜¶æ®µ <a class="header-anchor" href="#1-" aria-label="Permalink to &quot;1. åˆå§‹åŒ–é˜¶æ®µ&quot;">â€‹</a></h3><ul><li>åˆå§‹åŒ– Event Loop</li><li>æ‰§è¡Œä¸»ä»£ç ï¼Œé‡åˆ°å¼‚æ­¥å¤„ç†åˆ†é…ç»™å¯¹åº”é˜Ÿåˆ—</li><li>ä¸»ä»£ç æ‰§è¡Œå®Œæ¯•åè¿›å…¥äº‹ä»¶å¾ªç¯</li></ul><h3 id="2-" tabindex="-1">2. å¾®ä»»åŠ¡æ‰§è¡Œ <a class="header-anchor" href="#2-" aria-label="Permalink to &quot;2. å¾®ä»»åŠ¡æ‰§è¡Œ&quot;">â€‹</a></h3><p>æ‰§è¡Œä¸»ä»£ç ä¸­å‡ºç°çš„æ‰€æœ‰å¾®ä»»åŠ¡ï¼š</p><ul><li>å…ˆæ‰§è¡Œå®Œæ‰€æœ‰ <code>process.nextTick()</code></li><li>ç„¶åæ‰§è¡Œå…¶å®ƒæ‰€æœ‰å¾®ä»»åŠ¡</li></ul><h3 id="3-event-loop-" tabindex="-1">3. Event Loop å…­ä¸ªé˜¶æ®µ <a class="header-anchor" href="#3-event-loop-" aria-label="Permalink to &quot;3. Event Loop å…­ä¸ªé˜¶æ®µ&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>  â”Œâ”€&gt;â”‚           timers          â”‚</span></span>
<span class="line"><span>  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>  â”‚  â”‚     pending callbacks     â”‚</span></span>
<span class="line"><span>  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>  â”‚  â”‚       idle, prepare       â”‚</span></span>
<span class="line"><span>  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   incoming:   â”‚</span></span>
<span class="line"><span>  â”‚  â”‚           poll            â”‚&lt;â”€â”€â”€â”€â”€â”¤  connections, â”‚</span></span>
<span class="line"><span>  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   data, etc.  â”‚</span></span>
<span class="line"><span>  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>  â”‚  â”‚           check           â”‚</span></span>
<span class="line"><span>  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span>
<span class="line"><span>  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span>
<span class="line"><span>  â””â”€â”€â”¤      close callbacks      â”‚</span></span>
<span class="line"><span>     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="--2" tabindex="-1">ğŸ“‹ å…­ä¸ªé˜¶æ®µè¯¦è§£ <a class="header-anchor" href="#--2" aria-label="Permalink to &quot;ğŸ“‹ å…­ä¸ªé˜¶æ®µè¯¦è§£&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>é˜¶æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>timers</strong></td><td>æ‰§è¡Œ <code>setTimeout()</code> å’Œ <code>setInterval()</code> è®¾å®šçš„å›è°ƒ</td></tr><tr><td><strong>pending callbacks</strong></td><td>æ‰§è¡Œé™¤äº† timerã€closeã€setImmediate ä¹‹å¤–çš„äº‹ä»¶å›è°ƒ</td></tr><tr><td><strong>idle, prepare</strong></td><td>ä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨</td></tr><tr><td><strong>poll</strong></td><td>è½®è¯¢ï¼Œä¸æ–­æ£€æŸ¥æ–°çš„ I/O callback äº‹ä»¶</td></tr><tr><td><strong>check</strong></td><td>æ‰§è¡Œ <code>setImmediate()</code> è®¾å®šçš„å›è°ƒ</td></tr><tr><td><strong>close callbacks</strong></td><td>æ‰§è¡Œå¦‚ <code>socket.on(&#39;close&#39;, ...)</code> çš„å›è°ƒ</td></tr></tbody></table><div class="warning custom-block"><p class="custom-block-title">âš ï¸ æ³¨æ„</p><p>æ¯ä¸ªé˜¶æ®µæ‰§è¡Œå®Œæ¯•åï¼Œéƒ½ä¼šæ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡ï¼ˆå…ˆ <code>nextTick</code>ï¼Œåå…¶å®ƒï¼‰ï¼Œç„¶åå†è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</p></div><h2 id="-poll-" tabindex="-1">ğŸ¯ Poll é˜¶æ®µè¯¦è§£ <a class="header-anchor" href="#-poll-" aria-label="Permalink to &quot;ğŸ¯ Poll é˜¶æ®µè¯¦è§£&quot;">â€‹</a></h2><p>Poll é˜¶æ®µæ˜¯æœ€å¤æ‚çš„é˜¶æ®µï¼Œä¸»è¦åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol><li><p><strong>æ£€æŸ¥ poll queue</strong></p><ul><li>å¦‚æœæœ‰ä»»åŠ¡å°±æŒ‰å…ˆè¿›å…ˆå‡ºçš„é¡ºåºä¾æ¬¡æ‰§è¡Œå›è°ƒ</li></ul></li><li><p><strong>queue ä¸ºç©ºæ—¶</strong></p><ul><li>æ£€æŸ¥æ˜¯å¦æœ‰ <code>setImmediate()</code> çš„ callbackï¼Œå¦‚æœæœ‰å°±è¿›å…¥ check é˜¶æ®µ</li><li>åŒæ—¶æ£€æŸ¥æ˜¯å¦æœ‰åˆ°æœŸçš„ timerï¼Œå¦‚æœæœ‰å°±è¿”å› timer é˜¶æ®µ</li></ul></li></ol><div class="info custom-block"><p class="custom-block-title">ğŸ“– å…³äº process.nextTick()</p><p><code>process.nextTick()</code> åœ¨æŠ€æœ¯ä¸Šä¸æ˜¯äº‹ä»¶å¾ªç¯çš„ä¸€éƒ¨åˆ†ã€‚ç›¸åï¼Œæ— è®ºäº‹ä»¶å¾ªç¯çš„å½“å‰é˜¶æ®µå¦‚ä½•ï¼Œéƒ½å°†åœ¨å½“å‰æ“ä½œå®Œæˆåå¤„ç† nextTickQueueã€‚</p></div><h2 id="--3" tabindex="-1">ğŸ’¡ æœ€ä½³å®è·µ <a class="header-anchor" href="#--3" aria-label="Permalink to &quot;ğŸ’¡ æœ€ä½³å®è·µ&quot;">â€‹</a></h2><ol><li><p><strong>åˆç†è®¾ç½®ç›‘å¬å™¨æ•°é‡</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é¿å…å†…å­˜æ³„æ¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setMaxListeners</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p><strong>åŠæ—¶ç§»é™¤ç›‘å¬å™¨</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸å†éœ€è¦æ—¶ç§»é™¤ç›‘å¬å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;event&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, handler);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p><strong>ä½¿ç”¨ once é¿å…é‡å¤æ‰§è¡Œ</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åªæ‰§è¡Œä¸€æ¬¡çš„äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">once</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;init&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, initHandler);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p><strong>é”™è¯¯å¤„ç†</strong></p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventEmitter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;äº‹ä»¶é”™è¯¯:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol><hr><div class="tip custom-block"><p class="custom-block-title">ğŸ”— ç›¸å…³é“¾æ¥</p><ul><li><a href="https://nodejs.org/api/events.html" target="_blank" rel="noreferrer">Node.js Events å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://nodejs.org/api/events.html#events_class_eventemitter" target="_blank" rel="noreferrer">EventEmitter è¯¦ç»†API</a></li><li><a href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/" target="_blank" rel="noreferrer">äº‹ä»¶å¾ªç¯æ·±å…¥ç†è§£</a></li></ul></div>`,43)]))}const o=a(l,[["render",p]]);export{E as __pageData,o as default};
