---
title: JavaScript åŒ…è£…å¯¹è±¡
description: è¯¦ç»†ä»‹ç» JavaScript ä¸­çš„åŒ…è£…å¯¹è±¡ï¼ŒåŒ…æ‹¬ Arrayã€BigIntã€Functionã€Numberã€Objectã€Stringã€Symbol ç­‰å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•
outline: deep
---

# JavaScript åŒ…è£…å¯¹è±¡

JavaScript ä¸­çš„åŒ…è£…å¯¹è±¡ä¸ºåŸå§‹æ•°æ®ç±»å‹æä¾›äº†ä¸°å¯Œçš„å±æ€§å’Œæ–¹æ³•ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†å„ç§åŒ…è£…å¯¹è±¡çš„ç‰¹æ€§å’Œç”¨æ³•ã€‚

## Array

Array å¯¹è±¡æä¾›äº†ä¸°å¯Œçš„æ•°ç»„æ“ä½œæ–¹æ³•ï¼š

### åŸºæœ¬å±æ€§

- **`length`** - è¿”å›æœ€åä¸€ä¸ªå…ƒç´ çš„ index+1 ä½œä¸º lengthï¼ˆä¸ç­‰äºæ•°ç»„å…ƒç´ ä¸ªæ•°ï¼‰

### å®ä¾‹æ–¹æ³•

#### copyWithin()

æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ã€‚

```javascript
/**
 * @param {number} target - åºåˆ—å¼€å§‹æ›¿æ¢çš„ç›®æ ‡ä½ç½®ï¼Œä»¥ 0 ä¸ºèµ·å§‹çš„ä¸‹æ ‡è¡¨ç¤ºï¼Œä¸”å°†è¢«è½¬æ¢ä¸ºæ•´æ•°ï¼Œå¯è´Ÿå€¼
 * @param {number} start - è¦å¤åˆ¶çš„å…ƒç´ åºåˆ—çš„èµ·å§‹ä½ç½®ï¼Œä»¥ 0 ä¸ºèµ·å§‹çš„ä¸‹æ ‡è¡¨ç¤ºï¼Œä¸”å°†è¢«è½¬æ¢ä¸ºæ•´æ•°
 * @param {number} end - è¦å¤åˆ¶çš„å…ƒç´ åºåˆ—çš„ç»“æŸä½ç½®ï¼Œä»¥ 0 ä¸ºèµ·å§‹çš„ä¸‹æ ‡è¡¨ç¤ºï¼Œä¸”å°†è¢«è½¬æ¢ä¸ºæ•´æ•°
 */
copyWithin(target);
copyWithin(target, start);
copyWithin(target, start, end);

const array = ["a", "b", "c", "d", "e"];

// å°†ç´¢å¼• 3 å¤„çš„å…ƒç´ å¤åˆ¶åˆ°ç´¢å¼• 0 å¤„
console.log(array.copyWithin(0, 3, 4));
// è¾“å‡º: ["d", "b", "c", "d", "e"]
```

#### fill()

ç”¨ä¸€ä¸ªå›ºå®šå€¼å¡«å……ä¸€ä¸ªæ•°ç»„ä¸­ä»èµ·å§‹ç´¢å¼•åˆ°ç»ˆæ­¢ç´¢å¼•å†…çš„å…¨éƒ¨å…ƒç´ ã€‚

```javascript
/**
 * @param {*} value - ç”¨æ¥å¡«å……æ•°ç»„å…ƒç´ çš„å€¼ã€‚æ³¨æ„æ‰€æœ‰æ•°ç»„ä¸­çš„å…ƒç´ éƒ½å°†æ˜¯è¿™ä¸ªç¡®å®šçš„å€¼
 * @param {number} start - åŸºäºé›¶çš„ç´¢å¼•ï¼Œä»æ­¤å¼€å§‹å¡«å……ï¼Œè½¬æ¢ä¸ºæ•´æ•°
 * @param {number} end - åŸºäºé›¶çš„ç´¢å¼•ï¼Œåœ¨æ­¤ç»“æŸå¡«å……ï¼Œè½¬æ¢ä¸ºæ•´æ•°ã€‚fill() å¡«å……åˆ°ä½†ä¸åŒ…å« end ç´¢å¼•
 */
fill(value);
fill(value, start);
fill(value, start, end);

const array = ["a", "b", "c", "d", "e"];
console.log([1, 2, 3].fill(4, 1)); // [1, 4, 4]
```

#### toReversed()

`reverse()` æ–¹æ³•å¯¹åº”çš„å¤åˆ¶ç‰ˆæœ¬ã€‚å®ƒè¿”å›ä¸€ä¸ªå…ƒç´ é¡ºåºç›¸åçš„æ–°æ•°ç»„ã€‚

```javascript
const items = [1, 2, 3];
console.log(items); // [1, 2, 3]

const reversedItems = items.toReversed();
console.log(reversedItems); // [3, 2, 1]
console.log(items); // [1, 2, 3] - åŸæ•°ç»„ä¸å˜
```

#### toSorted()

`sort()` æ–¹æ³•å¯¹åº”çš„å¤åˆ¶ç‰ˆæœ¬ã€‚å®ƒè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶å…ƒç´ æŒ‰å‡åºæ’åˆ—ã€‚

```javascript
// ä¸ä¼ å…¥å‡½æ•°
toSorted();

// ä¼ å…¥ç®­å¤´å‡½æ•°
toSorted((a, b) => {
  /* â€¦ */
});

// ä¼ å…¥æ¯”è¾ƒå‡½æ•°ï¼Œå¦‚æœçœç•¥ï¼Œåˆ™å°†æ•°ç»„å…ƒç´ è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œ
// ç„¶åæ ¹æ®æ¯ä¸ªå­—ç¬¦çš„ Unicode ç ä½å€¼è¿›è¡Œæ’åº
toSorted(compareFn);

// å†…è”æ¯”è¾ƒå‡½æ•°
toSorted(function compareFn(a, b) {
  /* â€¦ */
});
```

#### toSpliced()

`splice()` æ–¹æ³•å¯¹åº”çš„å¤åˆ¶ç‰ˆæœ¬ã€‚å®ƒè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¹¶åœ¨ç»™å®šçš„ç´¢å¼•å¤„åˆ é™¤å’Œ/æˆ–æ›¿æ¢äº†ä¸€äº›å…ƒç´ ã€‚

```javascript
toSpliced(start);
toSpliced(start, deleteCount);
toSpliced(start, deleteCount, item1);
toSpliced(start, deleteCount, item1, item2, itemN);
```

## BigInt

è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚ä¸ Number ç±»å‹ç›¸æ¯”æœ‰å‡ ä¸ªå…³é”®ä¸åŒç‚¹ï¼š

::: warning æ³¨æ„äº‹é¡¹
- ä¸èƒ½ç”¨äº Math å¯¹è±¡ä¸­çš„æ–¹æ³•
- ä¸èƒ½å’Œä»»ä½• Number å®ä¾‹æ··åˆè¿ç®—ï¼Œä¸¤è€…å¿…é¡»è½¬æ¢æˆåŒä¸€ç§ç±»å‹
- åœ¨ä¸¤ç§ç±»å‹æ¥å›è½¬æ¢æ—¶è¦å°å¿ƒï¼Œå› ä¸º BigInt å˜é‡åœ¨è½¬æ¢æˆ Number å˜é‡æ—¶å¯èƒ½ä¼šä¸¢å¤±ç²¾åº¦
:::

å¯ä»¥ç”¨åœ¨ä¸€ä¸ªæ•´æ•°å­—é¢é‡åé¢åŠ  `n` çš„æ–¹å¼å®šä¹‰ä¸€ä¸ª BigIntï¼Œå¦‚ï¼š`10n`ï¼Œæˆ–è€…è°ƒç”¨å‡½æ•° `BigInt()`ï¼ˆä½†ä¸åŒ…å« `new` è¿ç®—ç¬¦ï¼‰å¹¶ä¼ é€’ä¸€ä¸ªæ•´æ•°å€¼æˆ–å­—ç¬¦ä¸²å€¼ã€‚

```javascript
const theBiggestInt = 9007199254740991n;

const alsoHuge = BigInt(9007199254740991);
// â†ª 9007199254740991n

// ä½¿ç”¨ typeof æµ‹è¯•æ—¶ï¼ŒBigInt å¯¹è±¡è¿”å› "bigint"
typeof 1n === "bigint"; // true
typeof BigInt("1") === "bigint"; // true

// ä½¿ç”¨ Object åŒ…è£…åï¼ŒBigInt è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæ™®é€š "object"
typeof Object(1n) === "object"; // true

const previousMaxSafe = BigInt(Number.MAX_SAFE_INTEGER);
// â†ª 9007199254740991n

const maxPlusOne = previousMaxSafe + 1n;
// â†ª 9007199254740992n
```

::: tip å»ºè®®
ç”±äºåœ¨ Number ä¸ BigInt ä¹‹é—´è¿›è¡Œè½¬æ¢ä¼šæŸå¤±ç²¾åº¦ï¼Œå› è€Œå»ºè®®ä»…åœ¨å€¼å¯èƒ½å¤§äº 2^53 æ—¶ä½¿ç”¨ BigInt ç±»å‹ï¼Œå¹¶ä¸”ä¸åœ¨ä¸¤ç§ç±»å‹ä¹‹é—´è¿›è¡Œç›¸äº’è½¬æ¢ã€‚
:::

## Function

ç›´æ¥è°ƒç”¨æ­¤æ„é€ å‡½æ•°å¯ä»¥åŠ¨æ€åˆ›å»ºå‡½æ•°ï¼Œä½†ä¼šé‡åˆ°å’Œ `eval()` ç±»ä¼¼çš„å®‰å…¨é—®é¢˜å’Œï¼ˆç›¸å¯¹è¾ƒå°çš„ï¼‰æ€§èƒ½é—®é¢˜ã€‚ç„¶è€Œï¼Œä¸ `eval()` ä¸åŒçš„æ˜¯ï¼ŒFunction æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°åªèƒ½åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è¿è¡Œã€‚

### å®ä¾‹å±æ€§å’Œæ–¹æ³•

| å±æ€§/æ–¹æ³• | æè¿° |
|-----------|------|
| `name` | å‡½æ•°çš„åç§° |
| `displayName` | å‡½æ•°çš„æ˜¾ç¤ºåç§° |
| `length` | æŒ‡å®šå‡½æ•°æœŸæœ›çš„å‚æ•°ä¸ªæ•° |
| `call()` | è°ƒç”¨å‡½æ•°å¹¶æŒ‡å®š this å€¼ |
| `apply()` | è°ƒç”¨å‡½æ•°å¹¶æŒ‡å®š this å€¼å’Œå‚æ•°æ•°ç»„ |
| `bind()` | åˆ›å»ºæ–°å‡½æ•°å¹¶ç»‘å®š this å€¼ |
| `toString()` | è¿”å›è¡¨ç¤ºå‡½æ•°æºä»£ç çš„å­—ç¬¦ä¸² |
| `[Symbol.hasInstance]()` | æŒ‡å®šç¡®å®šæ„é€ å‡½æ•°æ˜¯å¦å°†å¯¹è±¡è¯†åˆ«ä¸ºå…¶å®ä¾‹çš„é»˜è®¤è¿‡ç¨‹ |

```javascript
// ä½¿ç”¨ `var` åˆ›å»ºä¸€ä¸ªå…¨å±€å±æ€§
var x = 10;

function createFunction1() {
  const x = 20;
  return new Function("return x;"); // è¿™ä¸ª `x` æŒ‡çš„æ˜¯å…¨å±€ `x`
}

const f1 = createFunction1();
console.log(f1()); // 10
```

::: warning Node.js ç¯å¢ƒå·®å¼‚
è™½ç„¶è¿™æ®µä»£ç å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ­£å¸¸è¿è¡Œï¼Œä½†åœ¨ Node.js ä¸­ `f1()` ä¼šäº§ç”Ÿä¸€ä¸ª"æ‰¾ä¸åˆ°å˜é‡ x"çš„ ReferenceErrorã€‚è¿™æ˜¯å› ä¸ºåœ¨ Node ä¸­é¡¶çº§ä½œç”¨åŸŸä¸æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œè€Œ x å…¶å®æ˜¯åœ¨å½“å‰æ¨¡å—çš„ä½œç”¨åŸŸä¹‹ä¸­ã€‚
:::

## Number

Number ç±»å‹æ˜¯ä¸€ä¸ªåŒç²¾åº¦ 64 ä½äºŒè¿›åˆ¶æ ¼å¼ IEEE 754 å€¼ï¼Œè¡¨ç¤º 3 ä¸ªéƒ¨åˆ†ï¼š

- **1 ä½**ç”¨äºè¡¨ç¤ºç¬¦å·ï¼ˆsignï¼‰ï¼ˆæ­£æ•°æˆ–è€…è´Ÿæ•°ï¼‰
- **11 ä½**ç”¨äºè¡¨ç¤ºæŒ‡æ•°ï¼ˆexponentï¼‰ï¼ˆ-1022 åˆ° 1023ï¼‰
- **52 ä½**ç”¨äºè¡¨ç¤ºå°¾æ•°ï¼ˆmantissaï¼‰ï¼ˆè¡¨ç¤º 0 å’Œ 1 ä¹‹é—´çš„æ•°å€¼ï¼‰

::: info æœ¯è¯­è¯´æ˜
å°¾æ•°ï¼ˆä¹Ÿç§°ä¸ºæœ‰æ•ˆæ•°ï¼‰æ˜¯è¡¨ç¤ºå®é™…å€¼ï¼ˆæœ‰æ•ˆæ•°å­—ï¼‰çš„æ•°å€¼éƒ¨åˆ†ã€‚æŒ‡æ•°æ˜¯å°¾æ•°åº”ä¹˜ä»¥çš„ 2 çš„å¹‚æ¬¡ã€‚
:::

### å®ä¾‹æ–¹æ³•

| æ–¹æ³• | æè¿° |
|------|------|
| `toExponential()` | è¿”å›ä½¿ç”¨æŒ‡æ•°è¡¨ç¤ºæ³•è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸² |
| `toLocaleString()` | è¿”å›æ•°å€¼åœ¨ç‰¹å®šè¯­è¨€ç¯å¢ƒä¸‹è¡¨ç¤ºçš„å­—ç¬¦ä¸² |

### é™æ€å±æ€§

| å±æ€§ | æè¿° |
|------|------|
| `Number.EPSILON` | ä¸¤ä¸ªå¯è¡¨ç¤ºæ•°ä¹‹é—´çš„æœ€å°é—´éš” |
| `Number.MAX_SAFE_INTEGER` | JavaScript ä¸­æœ€å¤§çš„å®‰å…¨æ•´æ•°ï¼ˆ2^53 - 1ï¼‰ |
| `Number.MIN_SAFE_INTEGER` | JavaScript ä¸­æœ€å°çš„å®‰å…¨æ•´æ•°ï¼ˆ-(2^53 - 1)ï¼‰ |
| `Number.MAX_VALUE` | èƒ½è¡¨ç¤ºçš„æœ€å¤§æ­£æ•° |
| `Number.MIN_VALUE` | èƒ½è¡¨ç¤ºçš„æœ€å°æ­£æ•°å³æœ€æ¥è¿‘ 0 çš„æ­£æ•° |
| `Number.NaN` | ç‰¹æ®Šçš„"Not a Number"ï¼ˆéæ•°å­—ï¼‰å€¼ |
| `Number.POSITIVE_INFINITY` | ç‰¹æ®Šçš„æ­£æ— ç©·å¤§å€¼ï¼Œåœ¨æº¢å‡ºæ—¶è¿”å›è¯¥å€¼ |
| `Number.NEGATIVE_INFINITY` | ç‰¹æ®Šçš„è´Ÿæ— ç©·å¤§å€¼ï¼Œåœ¨æº¢å‡ºæ—¶è¿”å›è¯¥å€¼ |

## Object

```javascript
new Object(value);
Object(value);
```

### é™æ€æ–¹æ³•

#### å¯¹è±¡çŠ¶æ€æ§åˆ¶

- **`Object.preventExtensions(obj)`** - é˜²æ­¢æ–°å±æ€§è¢«æ·»åŠ åˆ°å¯¹è±¡ä¸­ï¼ˆå³é˜²æ­¢è¯¥å¯¹è±¡è¢«æ‰©å±•ï¼‰ã€‚**å¯ä»¥åˆ é™¤ç°æœ‰å±æ€§**
- **`Object.seal(obj)`** - å¯†å°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å¾—å¯¹è±¡ä¸å¯æ–°å¢å’Œåˆ é™¤å±æ€§ï¼Œä¸å¯å°†æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§äº’ç›¸è½¬æ¢ã€‚**å¯ä»¥ä¿®æ”¹ç°æœ‰å±æ€§å€¼**
- **`Object.freeze(obj)`** - å†»ç»“ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å¾—å¯¹è±¡ä¸å¯æ–°å¢å’Œåˆ é™¤å±æ€§ï¼Œä¸å¯å°†æ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§äº’ç›¸è½¬æ¢ï¼Œ**ä¹Ÿä¸èƒ½ä¿®æ”¹ç°æœ‰å±æ€§**

#### Object.groupBy()

æ ¹æ®æä¾›çš„å›è°ƒå‡½æ•°è¿”å›çš„å­—ç¬¦ä¸²å€¼å¯¹ç»™å®šå¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ è¿›è¡Œåˆ†ç»„ã€‚

```javascript
/**
 * @param {Iterable} items - ä¸€ä¸ªå°†è¿›è¡Œå…ƒç´ åˆ†ç»„çš„å¯è¿­ä»£å¯¹è±¡ï¼ˆä¾‹å¦‚ Arrayï¼‰
 * @param {Function} callbackFn - å¯¹å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„å‡½æ•°
 */
Object.groupBy(items, callbackFn);

const inventory = [
  { name: "èŠ¦ç¬‹", type: "è”¬èœ", quantity: 5 },
  { name: "é¦™è•‰", type: "æ°´æœ", quantity: 0 },
  { name: "å±±ç¾Š", type: "è‚‰", quantity: 23 },
  { name: "æ¨±æ¡ƒ", type: "æ°´æœ", quantity: 5 },
  { name: "é±¼", type: "è‚‰", quantity: 22 },
];

const result = Object.groupBy(inventory, ({ type }) => type);

/* ç»“æœæ˜¯ï¼š
{
  è”¬èœ: [
    { name: "èŠ¦ç¬‹", type: "è”¬èœ", quantity: 5 },
  ],
  æ°´æœ: [
    { name: "é¦™è•‰", type: "æ°´æœ", quantity: 0 },
    { name: "æ¨±æ¡ƒ", type: "æ°´æœ", quantity: 5 }
  ],
  è‚‰: [
    { name: "å±±ç¾Š", type: "è‚‰", quantity: 23 },
    { name: "é±¼", type: "è‚‰", quantity: 22 }
  ]
}
*/
```

#### Object.hasOwn()

å¦‚æœæŒ‡å®šçš„å¯¹è±¡è‡ªèº«æœ‰æŒ‡å®šçš„å±æ€§ï¼Œåˆ™è¿”å› `true`ã€‚å¦‚æœå±æ€§æ˜¯ç»§æ‰¿çš„æˆ–è€…ä¸å­˜åœ¨ï¼Œè¯¥æ–¹æ³•è¿”å› `false`ã€‚

::: tip æ¨è
`Object.hasOwn()` æ—¨åœ¨å–ä»£ `Object.prototype.hasOwnProperty()`ã€‚
:::

```javascript
Object.hasOwn(obj, key);
```

## String

### UTF-16 å­—ç¬¦ã€Unicode ç ä½å’Œå­—ç´ ç°‡

å­—ç¬¦ä¸²åŸºæœ¬ä¸Šè¡¨ç¤ºä¸º **UTF-16** ç å…ƒçš„åºåˆ—ã€‚è¯¥å­—ç¬¦é›†ç§°ä¸ºåŸºæœ¬å¤šè¯­è¨€å¹³é¢ï¼ˆBMPï¼‰ï¼ŒåŒ…å«æœ€å¸¸è§çš„å­—ç¬¦ï¼Œå¦‚æ‹‰ä¸å­—æ¯ã€å¸Œè…Šå­—æ¯ã€è¥¿é‡Œå°”å­—æ¯ä»¥åŠè®¸å¤šä¸œäºšå­—ç¬¦ã€‚

::: details è¯¦ç»†è¯´æ˜
æ¯ä¸ªç å…ƒéƒ½å¯ä»¥ç”¨ä»¥ `\u` å¼€å¤´çš„ 4 ä¸ªåå…­è¿›åˆ¶æ•°å­—å†™åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ç„¶è€Œï¼Œæ•´ä¸ª Unicode å­—ç¬¦é›†æ¯” 65536 å¤§å¾—å¤šã€‚é¢å¤–çš„å­—ç¬¦ä»¥ä»£ç†å¯¹çš„å½¢å¼å­˜å‚¨åœ¨ UTF-16 ä¸­ï¼Œä»£ç†å¯¹æ˜¯ä¸€å¯¹ 16 ä½ç å…ƒï¼Œè¡¨ç¤ºä¸€ä¸ªå•ä¸ªå­—ç¬¦ã€‚

- **å‰å¯¼ä»£ç†**ï¼šé«˜ä½ä»£ç†ï¼Œå…¶å€¼åœ¨ 0xD800 å’Œ 0xDBFF ä¹‹é—´ï¼ˆå«ï¼‰
- **åå°¾ä»£ç†**ï¼šä½ä½ä»£ç†ï¼Œå…¶å€¼åœ¨ 0xDC00 å’Œ 0xDFFF ä¹‹é—´ï¼ˆå«ï¼‰

æ¯ä¸ª Unicode å­—ç¬¦ç”±ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ª UTF-16 ç å…ƒç»„æˆï¼Œä¹Ÿç§°ä¸º Unicode ç ä½ï¼ˆcode pointï¼‰ã€‚æ¯ä¸ª Unicode ç ä½éƒ½å¯ä»¥ä½¿ç”¨ `\u{xxxxxx}` 1â€“6 ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºã€‚
:::

**å•ç‹¬ä»£ç†é¡¹**ï¼ˆå‰å¯¼ä»£ç†æˆ–è€…åå°¾ä»£ç†ï¼‰ä¸ä»£è¡¨ä»»ä½• Unicode å­—ç¬¦ã€‚åœ¨ä¸å…¶ä»–ç³»ç»Ÿäº¤äº’æ—¶é€šå¸¸ä¸æ˜¯æœ‰æ•ˆçš„å€¼ã€‚ä¾‹å¦‚ï¼Œ`encodeURI()` ä¼šä¸ºå•ç‹¬ä»£ç†é¡¹æŠ›å‡º URIErrorã€‚

é™¤äº† Unicode å­—ç¬¦ä¹‹å¤–ï¼Œè¿˜æœ‰æŸäº› Unicode å­—ç¬¦åºåˆ—åº”è§†ä¸ºä¸€ä¸ªè§†è§‰å•å…ƒï¼Œè¢«ç§°ä¸º**å­—ç´ ç°‡**ï¼ˆgrapheme clusterï¼‰ã€‚æœ€å¸¸è§çš„æƒ…å†µæ˜¯ emojiã€‚

```javascript
"ğŸ˜„".split(""); // ['\ud83d', '\ude04']; åˆ†å‰²æˆä¸¤ä¸ªå•ç‹¬ä»£ç†é¡¹

// "Backhand Index Pointing Right: Dark Skin Tone"
[..."ğŸ‘‰ğŸ¿"]; // ['ğŸ‘‰', 'ğŸ¿']
// åˆ†å‰²æˆåŸºæœ¬çš„"Backhand Index Pointing Right" emoji å’Œ "Dark skin tone" emoji

// "Family: Man, Boy"
[..."ğŸ‘¨â€ğŸ‘¦"]; // [ 'ğŸ‘¨', 'â€', 'ğŸ‘¦' ]
// åˆ†å‰²æˆ "Man" å’Œ "Boy" emojiï¼Œç”± ZWJ è¿æ¥

// The United Nations flag
[..."ğŸ‡ºğŸ‡³"]; // [ 'ğŸ‡º', 'ğŸ‡³' ]
// åˆ†å‰²æˆä¸¤ä¸ª "region indicator" å­—æ¯ "U" å’Œ "N"
// æ‰€æœ‰å›½æ—— emoji éƒ½æ˜¯ç”±ä¸¤ä¸ªåŒºåŸŸæŒ‡ç¤ºå­—æ¯è¿æ¥å½¢æˆçš„
```

::: warning æ„é€ å‡½æ•°å·®å¼‚
é€šè¿‡ `new String` æ„é€ å‡½æ•°è¿”å›åŒ…è£…å¯¹è±¡ï¼Œå¦åˆ™ä¸ºå¼ºåˆ¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚
:::

```javascript
const strPrim = "foo"; // å­—é¢é‡æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åŸå§‹å€¼
const strPrim2 = String(1); // è¢«å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²åŸå§‹å€¼"1"
const strPrim3 = String(true); // è¢«å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²åŸå§‹å€¼"true"
const strObj = new String(strPrim); // ä½¿ç”¨ `new` å…³é”®å­—è°ƒç”¨ `String` æ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åŒ…è£…å¯¹è±¡

// ä½¿ç”¨ eval() æ—¶ï¼Œå­—ç¬¦ä¸²åŸå§‹å€¼å’Œ String å¯¹è±¡ä¹Ÿä¼šç»™å‡ºä¸åŒçš„ç»“æœ
const s1 = "2 + 2"; // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²åŸå§‹å€¼
const s2 = new String("2 + 2"); // åˆ›å»ºä¸€ä¸ª String å¯¹è±¡
console.log(eval(s1)); // è¿”å›æ•°å­— 4
console.log(eval(s2)); // è¿”å›å­—ç¬¦ä¸²"2 + 2"
```

### å®ä¾‹æ–¹æ³•

#### endsWith()

åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾ã€‚

```javascript
/**
 * @param {string} searchString - è¦æœç´¢çš„ä½œä¸ºç»“å°¾çš„å­—ç¬¦ä¸²ï¼Œä¸èƒ½æ˜¯æ­£åˆ™è¡¨è¾¾å¼
 * @param {number} endPosition - é¢„æœŸæ‰¾åˆ° searchString çš„æœ«å°¾ä½ç½®ï¼Œé»˜è®¤ä¸º str.length
 */
endsWith(searchString);
endsWith(searchString, endPosition);

const str = "ç”Ÿå­˜è¿˜æ˜¯æ¯ç­ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚";

console.log(str.endsWith("é—®é¢˜ã€‚")); // true
console.log(str.endsWith("æ¯ç­")); // false
console.log(str.endsWith("æ¯ç­", 6)); // true
```

#### startsWith()

åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´ï¼Œç”¨æ³•åŒ `endsWith()`ã€‚

#### charCodeAt()

è¿”å›ç»™å®šç´¢å¼•å¤„çš„ UTF-16 ç å…ƒï¼Œå…¶å€¼ä»‹äº 0 å’Œ 65535 ä¹‹é—´ã€‚

```javascript
/**
 * @param {number} index - è¦è¿”å›çš„å­—ç¬¦çš„ç´¢å¼•ï¼Œä»é›¶å¼€å§‹ã€‚å°†è¢«è½¬æ¢ä¸ºæ•´æ•°â€”â€”undefined è¢«è½¬æ¢ä¸º 0
 */
charCodeAt(index);
```

#### codePointAt()

è¿”å›ç»™å®šç´¢å¼•å¼€å§‹çš„å­—ç¬¦çš„ Unicode ç ä½å€¼ã€‚ç´¢å¼•ä»ç„¶åŸºäº UTF-16 ç å…ƒï¼Œè€Œä¸æ˜¯ Unicode ç ä½ã€‚

```javascript
/**
 * @param {number} index - éœ€è¦è¿”å›çš„å­—ç¬¦çš„ï¼ˆä»é›¶å¼€å§‹çš„ï¼‰ç´¢å¼•ã€‚ä¼šè¢«è½¬æ¢ä¸ºæ•´æ•°â€”â€”undefined ä¼šè½¬æ¢ä¸º 0
 */
codePointAt(index);

const icons = "â˜ƒâ˜…â™²";
console.log(icons.codePointAt(1)); // "9733"
```

#### isWellFormed()

è¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å•ç‹¬ä»£ç†é¡¹çš„å¸ƒå°”å€¼ã€‚

```javascript
const strings = [
  // å•ç‹¬çš„å‰å¯¼ä»£ç†
  "ab\uD800",
  "ab\uD800c",
  // å•ç‹¬çš„åå°¾ä»£ç†
  "\uDFFFab",
  "c\uDFFFab",
  // æ ¼å¼æ­£ç¡®
  "abc",
  "ab\uD83D\uDE04c",
];

for (const str of strings) {
  console.log(str.isWellFormed());
}
// è¾“å‡ºï¼šfalse, false, false, false, true, true

// å¦‚æœä¼ é€’çš„å­—ç¬¦ä¸²æ ¼å¼ä¸æ­£ç¡®ï¼ŒencodeURI ä¼šæŠ›å‡ºé”™è¯¯
// å¯ä»¥é€šè¿‡ä½¿ç”¨ isWellFormed() åœ¨å°†å­—ç¬¦ä¸²ä¼ é€’ç»™ encodeURI() ä¹‹å‰æµ‹è¯•å­—ç¬¦ä¸²æ¥é¿å…è¿™ç§æƒ…å†µ
const illFormed = "https://example.com/search?q=\uD800";

try {
  encodeURI(illFormed);
} catch (e) {
  console.log(e); // URIError: URI malformed
}

if (illFormed.isWellFormed()) {
  console.log(encodeURI(illFormed));
} else {
  console.warn("Ill-formed strings encountered."); // Ill-formed strings encountered.
}
```

#### toWellFormed()

è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­è¯¥å­—ç¬¦ä¸²çš„æ‰€æœ‰å•ç‹¬ä»£ç†é¡¹éƒ½è¢«æ›¿æ¢ä¸º Unicode æ›¿æ¢å­—ç¬¦ U+FFFDã€‚

::: info è¯´æ˜
å½“åœ¨æŸäº›ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨æ ¼å¼ä¸æ­£ç¡®çš„å­—ç¬¦ä¸²æ—¶ï¼Œä¾‹å¦‚ TextEncoderï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºä½¿ç”¨ç›¸åŒæ›¿æ¢å­—ç¬¦çš„æ ¼å¼æ­£ç¡®çš„å­—ç¬¦ä¸²ã€‚å½“å•ç‹¬ä»£ç†é¡¹è¢«å‘ˆç°æ—¶ï¼Œå®ƒä»¬ä¹Ÿä¼šå‘ˆç°ä¸ºæ›¿æ¢å­—ç¬¦ï¼ˆä¸€ä¸ªå¸¦æœ‰é—®å·çš„é’»çŸ³å½¢çŠ¶ï¼‰ã€‚
:::

```javascript
const strings = [
  // å•ç‹¬çš„å‰å¯¼ä»£ç†
  "ab\uD800",
  "ab\uD800c",
  // å•ç‹¬çš„åå°¾ä»£ç†
  "\uDFFFab",
  "c\uDFFFab",
  // æ ¼å¼æ­£ç¡®
  "abc",
  "ab\uD83D\uDE04c",
];

for (const str of strings) {
  console.log(str.toWellFormed());
}
// "ab"
// "abc"
// "ab"
// "cab"
// "abc"
// "abğŸ˜„c"
```

#### localeCompare()

è¿”å›ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºå‚è€ƒå­—ç¬¦ä¸²åœ¨æ’åºé¡ºåºä¸­æ˜¯åœ¨ç»™å®šå­—ç¬¦ä¸²ä¹‹å‰ã€ä¹‹åè¿˜æ˜¯ä¸ä¹‹ç›¸åŒã€‚

::: tip è¿”å›å€¼
- å¦‚æœå¼•ç”¨å­—ç¬¦ä¸²å­˜åœ¨äºæ¯”è¾ƒå­—ç¬¦ä¸²ä¹‹å‰åˆ™ä¸º**è´Ÿæ•°**
- å¦‚æœå¼•ç”¨å­—ç¬¦ä¸²å­˜åœ¨äºæ¯”è¾ƒå­—ç¬¦ä¸²ä¹‹ååˆ™ä¸º**æ­£æ•°**
- ç›¸ç­‰çš„æ—¶å€™è¿”å› **0**
:::

```javascript
/**
 * @param {string} compareString - ä¸ referenceStr è¿›è¡Œæ¯”è¾ƒçš„å­—ç¬¦ä¸²
 * @param {string|string[]} locales - è¡¨ç¤ºç¼©å†™è¯­è¨€ä»£ç çš„å­—ç¬¦ä¸²ï¼Œæˆ–ç”±æ­¤ç±»å­—ç¬¦ä¸²ç»„æˆçš„æ•°ç»„
 * @param {object} options - ä¸€ä¸ªè°ƒæ•´è¾“å‡ºæ ¼å¼çš„å¯¹è±¡
 */
localeCompare(compareString, locales?, options?);

const a = "rÃ©servÃ©"; // With accents, lowercase
const b = "RESERVE"; // No accents, uppercase

console.log(a.localeCompare(b)); // 1
console.log(a.localeCompare(b, "en", { sensitivity: "base" })); // 0
```

#### padEnd()

å°†å½“å‰å­—ç¬¦ä¸²ä»æœ«å°¾å¼€å§‹å¡«å……ç»™å®šçš„å­—ç¬¦ä¸²ï¼Œç›´åˆ°è¾¾åˆ°ç»™å®šçš„é•¿åº¦ã€‚

```javascript
/**
 * @param {number} targetLength - å½“å‰ str å¡«å……åçš„é•¿åº¦
 * @param {string} padString - ç”¨äºå¡«å……å½“å‰ str çš„å­—ç¬¦ä¸²ï¼Œé»˜è®¤ä¸ºç©ºæ ¼
 */
padEnd(targetLength);
padEnd(targetLength, padString);

const str1 = "Breaded Mushrooms";
console.log(str1.padEnd(25, ".")); // "Breaded Mushrooms........"

const str2 = "200";
console.log(str2.padEnd(5)); // "200  "
```

#### padStart()

å°†å½“å‰å­—ç¬¦ä¸²ä»å¼€å¤´å¼€å§‹å¡«å……ç»™å®šçš„å­—ç¬¦ä¸²ï¼Œç”¨æ³•åŒ `padEnd()`ã€‚

#### repeat()

æ„é€ å¹¶è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…å«æŒ‡å®šæ•°é‡çš„æ‰€è°ƒç”¨çš„å­—ç¬¦ä¸²å‰¯æœ¬ã€‚

```javascript
/**
 * @param {number} count - ä»‹äº 0 å’Œ +Infinity ä¹‹é—´çš„æ•´æ•°ã€‚è¡¨ç¤ºåœ¨æ–°æ„é€ çš„å­—ç¬¦ä¸²ä¸­é‡å¤äº†å¤šå°‘éåŸå­—ç¬¦ä¸²
 */
repeat(count);

const mood = "Happy! ";
console.log(`I feel ${mood.repeat(3)}`); // "I feel Happy! Happy! Happy! "
```

### é™æ€æ–¹æ³•

#### String.fromCharCode()

è¿”å›ç”±æŒ‡å®šçš„ UTF-16 ç å…ƒåºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚

```javascript
String.fromCharCode(num1, num2, /* â€¦, */ numN);
```

#### String.fromCodePoint()

æ ¹æ®æŒ‡å®šçš„ç ä½åºåˆ—è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

```javascript
String.fromCodePoint(num1, num2, /* â€¦, */ numN);
```

#### String.raw()

æ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œç”¨äºè·å–æ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—ç¬¦ä¸²å½¢å¼ã€‚

```javascript
/**
 * @param {object} strings - æ ¼å¼æ­£ç¡®çš„æ¨¡æ¿å­—ç¬¦ä¸²æ•°ç»„å¯¹è±¡
 * @param {...any} substitutions - åŒ…å«çš„æ›¿æ¢è¡¨è¾¾å¼å¯¹åº”çš„å€¼
 */
String.raw(strings, ...substitutions);
String.raw`templateString`;

String.raw`Hi\n${2 + 3}!`; // 'Hi\\n5!'ï¼Œ'Hi' åé¢çš„å­—ç¬¦ä¸æ˜¯æ¢è¡Œç¬¦ï¼Œ'\' å’Œ 'n' æ˜¯ä¸¤ä¸ªä¸åŒçš„å­—ç¬¦

String.raw`Hi\u000A!`; // 'Hi\\u000A!'ï¼ŒåŒä¸Šï¼Œè¿™é‡Œå¾—åˆ°çš„ä¼šæ˜¯ \ã€uã€0ã€0ã€0ã€Aï¼Œ6 ä¸ªå­—ç¬¦

const name = "Bob";
String.raw`Hi\n${name}!`; // 'Hi\\nBob!'ï¼Œå†…æ’è¡¨è¾¾å¼è¿˜å¯ä»¥æ­£å¸¸æ›¿æ¢

String.raw`Hi \${name}!`; // 'Hi \\${name}!'ï¼Œç¾å…ƒç¬¦å·è¢«è½¬ä¹‰ï¼›è¿™é‡Œæ²¡æœ‰æ’å€¼
```

## Symbol

Symbol æ˜¯ä¸€ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¸æ”¯æŒè¯­æ³•ï¼š`new Symbol()`ã€‚

```javascript
/**
 * @param {string} description - å¯é€‰çš„ï¼Œå­—ç¬¦ä¸²ç±»å‹ã€‚å¯¹ symbol çš„æè¿°ï¼Œå¯ç”¨äºè°ƒè¯•ä½†ä¸æ˜¯è®¿é—® symbol æœ¬èº«
 */
Symbol([description]);

const symbol1 = Symbol();
const symbol2 = Symbol(42);
const symbol3 = Symbol("foo");

// ä¸€ä¸ªåªè¯»çš„å­—ç¬¦ä¸²ï¼Œæ„ä¸ºå¯¹è¯¥ Symbol å¯¹è±¡çš„æè¿°
symbol3.description === "foo";

console.log(typeof symbol1); // "symbol"
console.log(symbol2 === 42); // false
console.log(symbol3.toString()); // "Symbol(foo)"
console.log(Symbol("foo") === Symbol("foo")); // false
```

### å†…ç½® Symbol

::: info å†…ç½® Symbol
é™¤äº†è‡ªå·±åˆ›å»ºçš„ symbolï¼ŒJavaScript è¿˜å†…å»ºäº†ä¸€äº›åœ¨ ECMAScript 5 ä¹‹å‰æ²¡æœ‰æš´éœ²ç»™å¼€å‘è€…çš„ symbolï¼Œå®ƒä»¬ä»£è¡¨äº†å†…éƒ¨è¯­è¨€è¡Œä¸ºã€‚
:::

| Symbol | æè¿° | ç”¨é€” |
|--------|------|------|
| `Symbol.iterator` | è¿”å›å¯¹è±¡é»˜è®¤è¿­ä»£å™¨çš„æ–¹æ³• | è¢« `for...of` ä½¿ç”¨ |
| `Symbol.asyncIterator` | è¿”å›å¯¹è±¡é»˜è®¤å¼‚æ­¥è¿­ä»£å™¨çš„æ–¹æ³• | è¢« `for await of` ä½¿ç”¨ |
| `Symbol.match` | ç”¨äºå¯¹å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…çš„æ–¹æ³• | è¢« `String.prototype.match()` ä½¿ç”¨ |
| `Symbol.replace` | æ›¿æ¢åŒ¹é…å­—ç¬¦ä¸²çš„å­ä¸²çš„æ–¹æ³• | è¢« `String.prototype.replace()` ä½¿ç”¨ |
| `Symbol.search` | è¿”å›å­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„ç´¢å¼•çš„æ–¹æ³• | è¢« `String.prototype.search()` ä½¿ç”¨ |
| `Symbol.split` | åœ¨åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç´¢å¼•å¤„æ‹†åˆ†å­—ç¬¦ä¸²çš„æ–¹æ³• | è¢« `String.prototype.split()` ä½¿ç”¨ |
| `Symbol.hasInstance` | ç¡®å®šæ„é€ å™¨å¯¹è±¡è¯†åˆ«çš„å¯¹è±¡æ˜¯å¦ä¸ºå®ƒçš„å®ä¾‹çš„æ–¹æ³• | è¢« `instanceof` ä½¿ç”¨ |
| `Symbol.isConcatSpreadable` | è¡¨æ˜å¯¹è±¡æ˜¯å¦åº”è¯¥ flattened ä¸ºå®ƒçš„æ•°ç»„å…ƒç´ çš„å¸ƒå°”å€¼ | è¢« `Array.prototype.concat()` ä½¿ç”¨ |
| `Symbol.unscopables` | æ‹¥æœ‰å’Œç»§æ‰¿å±æ€§åçš„å¯¹è±¡çš„å€¼è¢«æ’é™¤åœ¨ä¸ç¯å¢ƒç»‘å®šçš„ç›¸å…³å¯¹è±¡å¤– | ç”¨äº `with` è¯­å¥ |
| `Symbol.species` | ç”¨äºåˆ›å»ºæ´¾ç”Ÿå¯¹è±¡çš„æ„é€ å™¨å‡½æ•° | ç”¨äºå­ç±»åŒ–å†…ç½®å¯¹è±¡ |
| `Symbol.toPrimitive` | å°†å¯¹è±¡è½¬åŒ–ä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„æ–¹æ³• | ç”¨äºç±»å‹è½¬æ¢ |
| `Symbol.toStringTag` | ç”¨äºå¯¹è±¡çš„é»˜è®¤æè¿°çš„å­—ç¬¦ä¸²å€¼ | è¢« `Object.prototype.toString()` ä½¿ç”¨ |

### é™æ€æ–¹æ³•

#### Symbol.for()

ä½¿ç”¨ç»™å®šçš„ key æœç´¢ç°æœ‰çš„ symbolï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å›è¯¥ symbolã€‚å¦åˆ™å°†ä½¿ç”¨ç»™å®šçš„ key åœ¨å…¨å±€ symbol æ³¨å†Œè¡¨ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ symbolã€‚

```javascript
Symbol.for(key);
```

#### Symbol.keyFor()

ä»å…¨å±€ symbol æ³¨å†Œè¡¨ä¸­ï¼Œä¸ºç»™å®šçš„ symbol æ£€ç´¢ä¸€ä¸ª symbol keyã€‚

```javascript
Symbol.keyFor(sym);
```

## æ€»ç»“

JavaScript çš„åŒ…è£…å¯¹è±¡ä¸ºåŸå§‹æ•°æ®ç±»å‹æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼š

- **Array** - æä¾›å¼ºå¤§çš„æ•°ç»„æ“ä½œæ–¹æ³•
- **BigInt** - å¤„ç†ä»»æ„å¤§çš„æ•´æ•°
- **Function** - å‡½æ•°å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•
- **Number** - æ•°å€¼å¤„ç†å’Œæ ¼å¼åŒ–
- **Object** - å¯¹è±¡æ“ä½œå’ŒçŠ¶æ€æ§åˆ¶
- **String** - å­—ç¬¦ä¸²å¤„ç†å’Œ Unicode æ”¯æŒ
- **Symbol** - å”¯ä¸€æ ‡è¯†ç¬¦å’Œå†…ç½®è¡Œä¸ºæ§åˆ¶

è¿™äº›åŒ…è£…å¯¹è±¡è®© JavaScript å…·æœ‰äº†å¼ºå¤§çš„æ•°æ®å¤„ç†èƒ½åŠ›ï¼Œæ˜¯ç°ä»£ JavaScript å¼€å‘çš„é‡è¦åŸºç¡€ã€‚
